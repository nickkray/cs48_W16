<html>
<head>

<style>
td{
	vertical-align: top;
}
</style>

<script type="text/javascript">
<!--
function FindPosition(oElement)
{
  if(typeof( oElement.offsetParent ) != "undefined")
  {
    for(var posX = 0, posY = 0; oElement; oElement = oElement.offsetParent)
    {
      posX += oElement.offsetLeft;
      posY += oElement.offsetTop;
    }
      return [ posX, posY ];
    }
    else
    {
      return [ oElement.x, oElement.y ];
    }
}
function GetCoordinates(e)
{
  document.getElementById("name").focus()
  var myImg = document.getElementById("myImgId");
  var PosX = 0;
  var PosY = 0;
  var ImgPos;
  ImgPos = FindPosition(myImg);
  if (!e) var e = window.event;
  if (e.pageX || e.pageY)
  {
    PosX = e.pageX;
    PosY = e.pageY;
  }
  else if (e.clientX || e.clientY)
    {
      PosX = e.clientX + document.body.scrollLeft
        + document.documentElement.scrollLeft;
      PosY = e.clientY + document.body.scrollTop
        + document.documentElement.scrollTop;
    }
  PosX = PosX - ImgPos[0];
  PosY = PosY - ImgPos[1];
  
  document.getElementById("status").value=document.getElementById("status").value+document.getElementById("name").value+"("+PosX+" "+PosY+")\n";
}
//-->


function init(){
	var myImg = document.getElementById("myImgId");
	myImg.onmousedown = GetCoordinates;
}

onload=init
</script>

</head>
<body>

<table>
<td>
Building name:<input id="name">
<br>
<textarea id="status" style="height: 800px;">
	
</textarea>

</td>
<td>
<img src="UCSB_largemap.jpg" id="myImgId" style="width: 800px;" onmousedown="getCoordinates()">
</td>
</table>


</body>


</html>